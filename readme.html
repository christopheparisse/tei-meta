<h1><a id="user-content-tei-meta-edit" class="deep-link" href="#tei-meta-edit"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>tei-meta-edit</h1>
<p><strong>Outil d'édition de champs xml dans un fichier xml à partir d'une description odd</strong></p>
<h2><a id="user-content-description-générale" class="deep-link" href="#description-générale"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description générale</h2>
<p>L'outil est conçu pour une utilisation TEI mais pourrait être étendu à d'autres fichiers XML
à condition de gérer correctement les namespaces. Le namespace principal est repéré automatiquement,
mais le namespace inclus dans le tag egXML ne l'est pas.</p>
<p>L'outil permet d'éditer un noeud XML où qu'il soit mais pas de le déplacer.
Tout noeud édité garde sa position. Un noeud inexistant peut être créé, mais dans une position absolue.
Toute l'arborescence sous un noeud peut être éditée si elle est décrite comme telle dans l'ODD.
Les valeurs d'un fichier XML non décrites dans l'ODD ne doivent pas être modifiées.
Les valeurs décrites pevuent être créées, modifiées et vidées (la suppression n'est pas possible
s'il y a des enfants à un noeud pour respecter la conservation des éléments existants non-décrits).</p>
<p>Les fonctions d'édition principales sont:</p>
<ul>
<li>création d'un noeud (si on y ajoute une valeur)</li>
<li>édition du champ texte d'un noeud avec un format
<ul>
<li>texte libre</li>
<li>vocabulaire</li>
<li>nombre?</li>
<li>date?</li>
</ul>
</li>
<li>édition d'un des attributs d'un noeud avec un format
<ul>
<li>texte libre</li>
<li>vocabulaire</li>
<li>nombre?</li>
<li>date?</li>
</ul>
</li>
</ul>
<h2><a id="user-content-edition-de-lodd-et-exemples-xml" class="deep-link" href="#edition-de-lodd-et-exemples-xml"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Edition de l'ODD et exemples XML</h2>
<h3><a id="user-content-format-de-description-des-noeuds-xml" class="deep-link" href="#format-de-description-des-noeuds-xml"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format de description des noeuds XML</h3>
<h4><a id="user-content-format-des-racines-et-arborenscence" class="deep-link" href="#format-des-racines-et-arborenscence"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format des &quot;racines&quot; et &quot;arborenscence&quot;</h4>
<p>Le contenu du ODD consiste en tous les éléments elementSpec inclus dans le tag egXML du fichier ODD.
Seuls les éléments obligatoires sont listés. Les autres éléments sont ignorés.</p>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span>&lt;elementSpec ident=&quot;nom_du_noeud&quot; mode=&quot;replace/change/add&quot; predeclare=&quot;/emplacement_du_noeud&quot; ana=&quot;mode_d_edition/none/text/number/date&quot;&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;desc&gt;</span></span></div><div class="line"><span class="text"><span>        Texte de description du noeud</span></span></div><div class="line"><span class="text"><span>    &lt;/desc&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;content&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;element name=&quot;nom_du_sous_noeud&quot; usage=&quot;req/vide&quot;&gt;</span></span></div><div class="line"><span class="text"><span>            &lt;content&gt;</span></span></div><div class="line"><span class="text"><span>                ... structure récursive sur le tag &quot;content&quot; ...</span></span></div><div class="line"><span class="text"><span>            &lt;/content&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;/element&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;one&gt;</span></span></div><div class="line"><span class="text"><span>            ... même chose que élément seul ...</span></span></div><div class="line"><span class="text"><span>            ... le champ doit être présent et est le seul qui existe ...</span></span></div><div class="line"><span class="text"><span>        &lt;/one&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;oneOrMore&gt;</span></span></div><div class="line"><span class="text"><span>            ... le champ doit être présent et il peut y en avoir d'autres ...</span></span></div><div class="line"><span class="text"><span>        &lt;/oneOrMore&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;zeroOrMore&gt;</span></span></div><div class="line"><span class="text"><span>            ... le champ n'est pas obligatoire et il peut en avoir pluieurs ...</span></span></div><div class="line"><span class="text"><span>        &lt;/zeroOrMore&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;/content&gt;</span></span></div><div class="line"><span class="text"><span>&lt;/elementSpec&gt;</span></span></div></pre></div>
<h4><a id="user-content-format-des-éléments" class="deep-link" href="#format-des-éléments"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format des &quot;éléments&quot;</h4>
<p>Seuls les éléments obligatoires sont listés. Les autres éléments sont ignorés.</p>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span>&lt;element name=&quot;nom_du_noeud&quot; usage=&quot;req/vide&quot; ana=&quot;mode_d_edition/list/none/text/number/date&quot;&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;desc&gt;</span></span></div><div class="line"><span class="text"><span>        Texte de description du noeud</span></span></div><div class="line"><span class="text"><span>    &lt;/desc&gt;</span></span></div><div class="line"><span class="text"><span>    ... si category choix dans cette liste ...</span></span></div><div class="line"><span class="text"><span>    &lt;category&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;catDesc xml:lang=&quot;fr&quot;&gt;nom_en_francais&lt;/catDesc&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;catDesc xml:lang=&quot;en&quot;&gt;nom_en_anglais&lt;/catDesc&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;/category&gt;</span></span></div><div class="line"><span class="text"><span>    ... répétition d'autant de catégories que nécessaire</span></span></div><div class="line"><span class="text"><span>    &lt;attList&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;attDef ident=&quot;nom_attribut&quot; usage=&quot;req/vide&quot; mode=&quot;change&quot; value=&quot;valeur obligatoire&quot; ana=&quot;mode_d_edition/list/none/text/number/date&quot;&gt;</span></span></div><div class="line"><span class="text"><span>            ... si valList choix des valeurs du vocabulaire ...</span></span></div><div class="line"><span class="text"><span>            &lt;valList type=&quot;nom_du_type&quot; mode=&quot;replace&quot;&gt;</span></span></div><div class="line"><span class="text"><span>                &lt;valItem ident=&quot;id_a_mettre_dans_fichier_TEI&quot;&gt;</span></span></div><div class="line"><span class="text"><span>                    &lt;desc&gt;Description du champ à coder&lt;/desc&gt;</span></span></div><div class="line"><span class="text"><span>                &lt;/valItem&gt;</span></span></div><div class="line"><span class="text"><span>                ... autres valitems ...</span></span></div><div class="line"><span class="text"><span>            &lt;/valList&gt;</span></span></div><div class="line"><span class="text"><span>        &lt;/attDef&gt;</span></span></div><div class="line"><span class="text"><span>    &lt;/attList&gt;</span></span></div><div class="line"><span class="text"><span>&lt;/elementSpec&gt;</span></span></div></pre></div>
<h2><a id="user-content-utilisation" class="deep-link" href="#utilisation"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation</h2>
<h3><a id="user-content-version-page-html-fonctionnelle" class="deep-link" href="#version-page-html-fonctionnelle"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Version Page Html (fonctionnelle)</h3>
<p>Le soft comprend une page html autonome pouvant être utilisée localement ou à distance.
Il est possible de charger un ODD local et un XML local
La sauvegarde se fait dans le répertoire de téléchargement (ou ailleurs selon les paramètres du navigateur web).</p>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span>npm run page</span></span></div><div class="line"><span class="text"><span># creation d'un sous-répertoire temp-page</span></span></div><div class="line"><span class="text"><span>$ open temp-page/teimeta.html</span></span></div></pre></div>
<h3><a id="user-content-version-application-indépendante" class="deep-link" href="#version-application-indépendante"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Version application indépendante</h3>
<h4><a id="user-content-application-teimeta" class="deep-link" href="#application-teimeta"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Application TEIMETA</h4>
<p>Le soft est intégré à Electron. Il présente les mêmes fonctionnalités que la version page html, mais peut être lancé
depuis le gestionnaire de fichiers ou d'application, et être associé à une extension de programme. Possibilité d'avoir un menu
fichiers récents et une vraie sauvegarde.</p>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span>npm run electron</span></span></div><div class="line"><span class="text"><span># creation d'un sous-répertoire temp-electron</span></span></div><div class="line"><span class="text"><span>npm start</span></span></div></pre></div>
<h4><a id="user-content-utilisation-en-librairie-dans-un-soft" class="deep-link" href="#utilisation-en-librairie-dans-un-soft"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation en librairie dans un soft</h4>
<p>Inclure le repertoire teimeta/*.ts
Toutes les instructions pour l'utilisation sont à la fin du fichier tei.ts</p>
<h5><a id="user-content-aeec-et-trjs-pas-encore-implémentés" class="deep-link" href="#aeec-et-trjs-pas-encore-implémentés"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AEEC et TRJS (pas encore implémentés)</h5>
<p>Le soft est intégré à l'outil AEEC et l'outil TRJS. Il est possible d'éditer un des fichiers listé dans la base.</p>
<p>Note: Il pourrait être intéressant d'éditer une série de fichiers d'un coup. Par exemple on pourrait créer un fichier XML et
fusionner le résultat avec un fichier XML quelconque pour modifier d'un coup une série de fichiers.</p>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span># utiliser la librairie dans une autre application.</span></span></div><div class="line"><span class="text"><span>import * from 'teimeta/tei'</span></span></div><div class="line"><span class="text"><span>... innerHTML = openODD(dataOdd)</span></span></div><div class="line"><span class="text"><span>... innerHTML = openODDTEI(dataTei, dataOdd)</span></span></div><div class="line"><span class="text"><span>... insérer innerHTML dans un éléement du navigateur</span></span></div><div class="line"><span class="text"><span>... generateTEI(innerHTML)</span></span></div></pre></div>
<h2><a id="user-content-informations-complémentaires" class="deep-link" href="#informations-complémentaires"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Informations complémentaires</h2>
<p>Téléchargement du code source: <a href="https://github.com/christopheparisse/tei-meta/">https://github.com/christopheparisse/tei-meta/</a></p>
<p>Signaler erreurs et commentaires dans <a href="https://github.com/christopheparisse/tei-meta/issues">issues</a>.</p>
<h4><a id="user-content-license-cc0-public-domain" class="deep-link" href="#license-cc0-public-domain"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License <a href="LICENSE.md">CC0 (Public Domain)</a></h4>
